#compdef todo

#TODO: Modify this so that tasks with a space in them autocomplete correctly, instead of breaking
# them into "separate tasks"

_todo() {
    local curcontext="$curcontext" state line
    typeset -A opts_args

    _arguments \
        "1: :->action"\
        "2: :->activities"

    case $state in
        action)
            _arguments "1:Action:(reset undone done)"
            ;;
        activities)
            _arguments "2:Activities:($(cut -d '=' -s -f1 $HOME/dev/xmobar/todo.txt))"
            ;;
    esac
}

_todo "$@"
